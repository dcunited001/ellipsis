#!/bin/sh

_print_usage() {
    echo "usage: `basename $0` SERVICE"
}

if [ $# != 1 ]; then _print_usage; exit 1; fi

service=$1

NB=SystemD
NB_SYS="${NB_SYS:-system-run-symbolic}"
NB_SUCCESS=emblem-success
NB_FAIL=emblem-error
NB_RUN=emblem-error
NB_LOCKED=changes-prevent
NB_UNLOCKED=changes-allow

if systemctl -q is-active --user "$service"; then
  notify-send -a "$NB" -i "$NB_SYS" 'SystemD' "Stopping: $service"
  systemctl stop --user "$service"
else
  notify-send -a "$NB" -i "$NB_SYS" 'SystemD' "Starting: $service"
  systemctl start --user "$service"
fi
