:PROPERTIES:
:ID:       db35e2a9-9fd2-41b9-9c5f-81431fdb8860
:END:

#+title: Bash Configuration
#+description:
#+startup: content
#+property: header-args :tangle-mode (identity #o444) :mkdirp yes
#+property: header-args:sh :tangle-mode (identity #o555)
#+property: header-args:bash :tangle-mode (identity #o555)
#+property: header-args+ :mkdirp yes
#+options: toc:nil

* Table Of Contents :TOC_2_gh:
- [[#environment][Environment]]
  - [[#org-variables][Org Variables]]
  - [[#apps][Apps]]
  - [[#xdg][XDG]]
  - [[#gtk][GTK]]
  - [[#tq][TQ]]
- [[#languages][Languages]]
- [[#profile][Profile]]
  - [[#profile-1][=.profile=]]
- [[#bash][Bash]]
  - [[#bash_profile][=.bash_profile=]]
  - [[#bashrc][=.bashrc=]]
  - [[#profile-2][=.profile=]]
- [[#zsh][Zsh]]
- [[#fish][Fish]]
- [[#environment-1][Environment]]
  - [[#direnv][Direnv]]
  - [[#languages-1][Languages]]

**** TODO double check =.bash*= permissions

* Environment
:PROPERTIES:
:header-args: :comments no
:END:

** Org Variables
*** TODO use an org table to retrieve values for templating

#+name: main-vars-table
| var | value |
|-----+-------|
|     |       |

#+name: main-vars
#+begin_src sh :tangle no :var tablevars=main-vars-table :result output
tablevars
#+end_src

** Apps

** XDG

** GTK

** TQ

* Languages
:PROPERTIES:
:header-args: :comments link
:END:

#+begin_src sh :tangle no

#+end_src

* Profile

** =.profile=



#+begin_src sh :tangle .profile :shebang #!/bin/sh
export EDITOR=/usr/bin/micro
export BROWSER=firedragon
export TERM=alacritty
export MAIL=geary
export QT_QPA_PLATFORMTHEME="qt5ct"
export GTK2_RC_FILES="$HOME/.gtkrc-2.0"
#export _JAVA_OPTIONS="-Dawt.useSystemAAFontSettings=on -Dswing.aatext=true -Dswing.defaultlaf=com.sun.java.swing.plaf.gtk.GTKLookAndFeel -Dswing.crossplatformlaf=com.sun.java.swing.plaf.gtk.GTKLookAndFeel {$_JAVA_OPTIONS}"

# Session
export XDG_SESSION_TYPE=wayland
export XDG_SESSION_DESKTOP=sway
export XDG_CURRENT_DESKTOP=sway

# GTK
export MOZ_ENABLE_WAYLAND=1             # only start firefox in wayland mode and no other GTK apps
export MOZ_DBUS_REMOTE=1                # fixes firefox is already running, but is not responding
#export GDK_BACKEND=wayland             # this can prevent programs from starting (e.g. chromium and electron apps). therefore, this should be set per app instead of globally.

# clutter
#export CLUTTER_BACKEND=wayland          # this can prevent programs from starting. therefore, this should be set per app instead of globally.


# elementary
export ECORE_EVAS_ENGINE=wayland-egl
export ELM_ENGINE=wayland_egl
#export ELM_DISPLAY=wl
#export ELM_ACCEL=gl

# java
export _JAVA_AWT_WM_NONREPARENTING=1
export NO_AT_BRIDGE=1
export BEMENU_BACKEND=wayland

# sdl
#export SDL_VIDEODRIVER=wayland	         # this can prevent programs from starting old sdl games. therefore, this should be set per app instead of globally.

# Qt
export QT_QPA_PLATFORM=wayland
#export QT_WAYLAND_FORCE_DPI=physical
#export QT_WAYLAND_DISABLE_WINDOWDECORATION=1


# =======================
# Personal Defaults
export EDITOR=vim
export ORG_DIRECTORY=/data/org
#export ORG_AGENDA_ROOT=
export GRAPHVIZ_DOT=/usr/bin/dot



# =======================
# GUIX
alias guix-all-profiles='find /gnu/store -maxdepth 1 -type d -name "*profile" -exec ls -al \{\} +'

export GUIX_MAIN=$HOME/.config/guix/current

export GUIX_PROFILE=/var/guix/profiles/per-user/saikoupomp/guix-profile
source $GUIX_PROFILE/etc/profile
#+end_src

* Bash
** =.bash_profile=

#+begin_src sh :tangle .bash_profile :shebang #!/bin/sh
if [ -f ~/.profile ]; then . ~/.profile; fi
#+end_src

** =.bashrc=

#+begin_src sh :tangle .bashrc :shebang #!/bin/sh
# If not running interactively, don't do anything
[[ $- != *i* ]] && return

alias ls='ls --color=auto'
PS1='[\u@\h \W]\$ '
#+end_src

** =.profile=

#+begin_src sh :tangle .profile
# also source .bashrc if it exists
if [ -f ~/.bashrc ]; then . ~/.bashrc; fi
#+end_src

* Zsh



* Fish

#+begin_src sh :tangle .config/fish/config.fish :shebang #!/bin/nope

#+end_src

* Environment

** Direnv

** Languages
